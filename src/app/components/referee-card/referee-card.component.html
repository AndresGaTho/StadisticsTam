<div class="referee-card" [class.has-rating]="referee.rating" (click)="onCardClick()">

  <!-- Sección de foto grande -->
  <div class="photo-section">
    <img [src]="referee.photo" [alt]="referee.name" class="referee-photo" (error)="handleImageError($event)"
      loading="lazy">
    <div class="photo-overlay">
      <div *ngIf="referee.rating" class="rating-badge">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" />
        </svg>
        <span>{{ referee.rating }}</span>
      </div>
    </div>
  </div>

  <!-- Contenido -->
  <div class="content-section">
    <h4 class="referee-name">{{ referee.name }} {{ referee.fLastName }}</h4>
    <p class="referee-position">{{ referee.position }}</p>

    <div class="meta-item">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
        <path
          d="M8 7V3M16 7V3M7 11H17M5 21H19C20.1046 21 21 20.1046 21 19V7C21 5.89543 20.1046 5 19 5H5C3.89543 5 3 5.89543 3 7V19C3 20.1046 3.89543 21 5 21Z"
          stroke="currentColor" stroke-width="2" />
      </svg>
      <span>{{ referee.experience }} años de experiencia</span>
    </div>
  </div>

  <!-- Botones de acción -->
  <div class="action-buttons">
    <button class="action-btn btn-profile" (click)="onCardClick()">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
        <path
          d="M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12Z" />
        <path
          d="M20 21C20 19.6044 20 18.9067 19.8278 18.3389C19.44 17.0605 18.4395 16.06 17.1611 15.6722C16.5933 15.5 15.8956 15.5 14.5 15.5H9.5C8.10444 15.5 7.40665 15.5 6.83886 15.6722C5.56045 16.06 4.56004 17.0605 4.17224 18.3389C4 18.9067 4 19.6044 4 21" />
      </svg>
      Perfil
    </button>
    <button class="action-btn btn-rate" (click)="onRateClick($event)">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" />
      </svg>
      Calificar
    </button>
  </div>
</div>